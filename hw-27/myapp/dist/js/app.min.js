(()=>{"use strict";var __webpack_modules__={"./src/js/app.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   productCardWrap: () => (/* binding */ productCardWrap)\n/* harmony export */ });\n/* harmony import */ var _modules_products_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/products.js */ \"./src/js/modules/products.js\");\n/* harmony import */ var _modules_routing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/routing.js */ \"./src/js/modules/routing.js\");\n/* harmony import */ var _modules_render_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/render.js */ \"./src/js/modules/render.js\");\n//import * as func from './modules/render.js';\r\n\r\n\r\n;\r\n\r\n\r\n\r\nconst productCardList = document.querySelector('#js-product-list-wrap');\r\nconst homeBtn = document.querySelector('#js-home');\r\nconst nav = document.querySelector('#js-nav');\r\nconst productCardWrap = document.querySelector('#js-product-wrap');\r\nconst basket = document.querySelector('#js-cart');\r\nconst basketQuantity = document.querySelector('#js-cart-nums');\r\n\r\nconst basketArr = getFromLocalStorage();\r\n\r\n\r\n// save data into localstorage\r\nfunction saveToLocalStorage() {\r\n   let basketArrJSON = JSON.stringify(basketArr);\r\n   localStorage.setItem('basketArr', basketArrJSON);\r\n}\r\n\r\n// get data from localstorage\r\nfunction getFromLocalStorage() {\r\n   let storedbasketArrJSON = localStorage.getItem('basketArr');\r\n   let storedbasketArr = JSON.parse(storedbasketArrJSON);\r\n   return storedbasketArr ?? [];\r\n}\r\n\r\nfunction displayCategories() {\r\n   _modules_products_js__WEBPACK_IMPORTED_MODULE_0__.categories.forEach((el) => {\r\n      nav.insertAdjacentHTML('beforebegin',  (0,_modules_render_js__WEBPACK_IMPORTED_MODULE_2__.getCategoryHTML)(el));\r\n   });\r\n};\r\ndisplayCategories();\r\n\r\nfunction buyProducts(product) {\r\n   if (product) {\r\n      basketArr.push(product);\r\n      alert('The product was purchased!');\r\n      productCardList.innerHTML = '';\r\n      productCardWrap.innerHTML = '';\r\n   }\r\n}\r\n\r\nfunction getBasketLength() {\r\n   let busketNums = basketArr.length;\r\n   basketQuantity.innerHTML = '';\r\n   basketQuantity.innerHTML += `(${busketNums})`;\r\n}\r\ngetBasketLength();\r\n\r\nfunction clearPage() {\r\n   productCardList.innerHTML = '';\r\n   productCardWrap.innerHTML = '';\r\n}\r\n\r\n// go home \r\nhomeBtn.addEventListener('click', (e) => {\r\n   e.preventDefault();\r\n   \r\n   productCardList.innerHTML = '';\r\n   productCardWrap.innerHTML = '';\r\n   \r\n   (0,_modules_routing_js__WEBPACK_IMPORTED_MODULE_1__.eventedPushState)('Home', '', '');\r\n});\r\n\r\n// go to basket\r\nbasket.addEventListener('click', (e) => {\r\n   e.preventDefault();\r\n   (0,_modules_routing_js__WEBPACK_IMPORTED_MODULE_1__.eventedPushState)('Basket', '', 'Basket');\r\n\r\n   basketArr.forEach(({id, img, title, price}) => {\r\n      productCardList.insertAdjacentHTML('beforeend', (0,_modules_render_js__WEBPACK_IMPORTED_MODULE_2__.getBasketProductListHTML)(id, img, title, price));\r\n   });\r\n});\r\n\r\n// push selected url\r\nconst categoryLinks = document.querySelectorAll('.js-link');\r\ncategoryLinks.forEach((el) => {\r\n   el.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n\r\n      const selectedCategory = el.dataset.category;\r\n\r\n      // 3. В обробнику треба викликати eventedPushState і передати в неї 3 аргументи: назву категорії, пустий рядок та урл категорії\r\n      if (selectedCategory) {\r\n         (0,_modules_routing_js__WEBPACK_IMPORTED_MODULE_1__.eventedPushState)(selectedCategory, '', selectedCategory);\r\n      }\r\n   })\r\n});\r\n\r\n// 5. В колбеку слухача подій додай console.log, щоб подивитись, який аргумент приходить, та що є в властивості `detail`.\r\ndocument.addEventListener('onpushstate', (e) => {\r\n   const selectedUrl = e.detail.url;\r\n\r\n   const renderProducts = (productList) => {\r\n      clearPage();\r\n      productList.forEach(({img, title, price, id}) => {\r\n         productCardList.insertAdjacentHTML('beforeend', (0,_modules_render_js__WEBPACK_IMPORTED_MODULE_2__.getProductsHTML)(img, title, price, id));\r\n      });\r\n   };\r\n\r\n   const displaySelectedProductCard = (product) => {\r\n      (0,_modules_routing_js__WEBPACK_IMPORTED_MODULE_1__.eventedPushState)(selectedUrl, '', `${selectedUrl}/${product.id}`);\r\n      (0,_modules_render_js__WEBPACK_IMPORTED_MODULE_2__.getProductCardHTML)(product);\r\n\r\n      // Add to basket\r\n      const addBtn = document.querySelector('#js-btn-buy');\r\n      addBtn.addEventListener('click', (event) => {\r\n         event.preventDefault();\r\n         buyProducts(product);\r\n         getBasketLength();\r\n         saveToLocalStorage();\r\n      });\r\n   };\r\n\r\n   if (selectedUrl === 'Mirrors') {\r\n      renderProducts(_modules_products_js__WEBPACK_IMPORTED_MODULE_0__.mirrors);\r\n\r\n      const productCards = document.querySelectorAll('.js-product-card');\r\n      productCards.forEach((card) => {\r\n         card.addEventListener('click', (e) => {\r\n            const clickedCardId = card.dataset.id;\r\n            const clickedProduct = _modules_products_js__WEBPACK_IMPORTED_MODULE_0__.mirrors.find((product) => product.id === clickedCardId);\r\n            displaySelectedProductCard(clickedProduct);\r\n         });\r\n      });\r\n   } else if (selectedUrl === 'Blankets') {\r\n      renderProducts(_modules_products_js__WEBPACK_IMPORTED_MODULE_0__.blankets);\r\n\r\n      const productCards = document.querySelectorAll('.js-product-card');\r\n      productCards.forEach((card) => {\r\n         card.addEventListener('click', (e) => {\r\n            const clickedCardId = card.dataset.id;\r\n            const clickedProduct = _modules_products_js__WEBPACK_IMPORTED_MODULE_0__.blankets.find((product) => product.id === clickedCardId);\r\n            displaySelectedProductCard(clickedProduct);\r\n         });\r\n      });\r\n   } else if (selectedUrl === 'Pillows') {\r\n      renderProducts(_modules_products_js__WEBPACK_IMPORTED_MODULE_0__.pillows);\r\n\r\n      const productCards = document.querySelectorAll('.js-product-card');\r\n      productCards.forEach((card) => {\r\n         card.addEventListener('click', (e) => {\r\n            const clickedCardId = card.dataset.id;\r\n            const clickedProduct = _modules_products_js__WEBPACK_IMPORTED_MODULE_0__.pillows.find((product) => product.id === clickedCardId);\r\n            displaySelectedProductCard(clickedProduct);\r\n         });\r\n      });\r\n   }\r\n});\n\n//# sourceURL=webpack://myapp/./src/js/app.js?")},"./src/js/modules/products.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blankets: () => (/* binding */ blankets),\n/* harmony export */   categories: () => (/* binding */ categories),\n/* harmony export */   mirrors: () => (/* binding */ mirrors),\n/* harmony export */   pillows: () => (/* binding */ pillows)\n/* harmony export */ });\nconst categories = ['Mirrors', 'Blankets', 'Pillows'];\r\n\r\nconst mirrors = [\r\n   {  \r\n      'id': '1',\r\n      'img': 'https://cdn2.jysk.com/getimage/wd2.medium/36385',\r\n      'title': 'Дзеркало MARIBO 72x162см',\r\n      'price': '2500'\r\n   },\r\n\r\n   {  \r\n      'id': '2',\r\n      'img': 'https://cdn3.jysk.com/getimage/wd2.teaser/185671',\r\n      'title': 'Дзеркало SPANG 40x70см',\r\n      'price': '1000'\r\n   },\r\n\r\n   {  \r\n      'id': '3',\r\n      'img': 'https://cdn1.jysk.com/getimage/wd2.medium/86411',\r\n      'title': 'Дзеркало NORDBORG 70x90см',\r\n      'price': '2299 '\r\n   },\r\n\r\n];\r\n\r\nconst blankets = [\r\n   {  \r\n      'id': '4',\r\n      'img': 'https://cdn4.jysk.com/getimage/wd2.medium/119090',\r\n      'title': 'Ковдра важка GJENDETUNGA 135x200см',\r\n      'price': '2250'\r\n   },\r\n\r\n   {  \r\n      'id': '5',\r\n      'img': 'https://cdn3.jysk.com/getimage/wd2.medium/88140',\r\n      'title': 'Ковдра OKKEN тепла 135х200см',\r\n      'price': '7000'\r\n   },\r\n\r\n   {  \r\n      'id': '6',\r\n      'img': 'https://cdn4.jysk.com/getimage/wd2.medium/114723',\r\n      'title': 'Термоковдра BEITO екстра 135x200см',\r\n      'price': '7000'\r\n   },\r\n\r\n];\r\n\r\nconst pillows = [\r\n   {  \r\n      'id': '7',\r\n      'img': 'https://cdn2.jysk.com/getimage/wd2.medium/86772',\r\n      'title': 'Подушка ALTA 50х70см 750г',\r\n      'price': '550'\r\n   },\r\n\r\n   {  \r\n      'id': '8',\r\n      'img': 'https://cdn4.jysk.com/getimage/wd2.medium/128614',\r\n      'title': 'Подушка FALKETIND 50x70см',\r\n      'price': '850'\r\n   },\r\n\r\n   {  \r\n      'id': '9',\r\n      'img': 'https://cdn3.jysk.com/getimage/wd2.medium/88133',\r\n      'title': 'Подушка LOFTET 50x70см',\r\n      'price': '2000 '\r\n   },\r\n\r\n];\n\n//# sourceURL=webpack://myapp/./src/js/modules/products.js?")},"./src/js/modules/render.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBasketProductListHTML: () => (/* binding */ getBasketProductListHTML),\n/* harmony export */   getCategoryHTML: () => (/* binding */ getCategoryHTML),\n/* harmony export */   getProductCardHTML: () => (/* binding */ getProductCardHTML),\n/* harmony export */   getProductsHTML: () => (/* binding */ getProductsHTML)\n/* harmony export */ });\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app.js */ "./src/js/app.js");\n\r\n\r\nconst getCategoryHTML = name => \r\n   `<li class="categories-item">\r\n      <a class="categories-link js-link" href="" data-category="${name}">${name}</a>\r\n   </li>`;\r\n\r\nconst getProductsHTML = (img, title, price, id) => {\r\n   return `\r\n   <div class="product-list-card js-product-card" data-id="${id}">\r\n      <div class="img-holder">\r\n         <img src="${img}" alt="${title}" class="img">\r\n      </div>\r\n      <p class="img-title">${title}</p>\r\n      <p class="img-price">${price} uah</p>\r\n   </div>`\r\n};\r\n\r\nconst getProductCardHTML = (product) => {\r\n   _app_js__WEBPACK_IMPORTED_MODULE_0__.productCardWrap.innerHTML = \'\';\r\n\r\n   _app_js__WEBPACK_IMPORTED_MODULE_0__.productCardWrap.insertAdjacentHTML(\'beforeend\', \r\n      `<div class="product-item-card">\r\n         <div class="img-holder">\r\n            <img src="${product.img}" alt="${product.title}" class="img">\r\n         </div>\r\n         <p class="img-title">${product.title}</p>\r\n         <p class="img-price">${product.price} uah</p>\r\n         <a href="#" class="btn btn-buy" id="js-btn-buy">Add to cart</a>\r\n      </div>\r\n   `);\r\n};\r\n\r\nconst getBasketProductListHTML = (id, img, title, price) => {\r\n   return   `\r\n   <div class="product-list-card js-product-card" data-id="${id}">\r\n      <div class="img-holder">\r\n         <img src="${img}" alt="${title}" class="img">\r\n      </div>\r\n      <p class="img-title">${title}</p>\r\n      <p class="img-price">${price} uah</p>\r\n   </div>`\r\n}\n\n//# sourceURL=webpack://myapp/./src/js/modules/render.js?')},"./src/js/modules/routing.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eventedPushState: () => (/* binding */ eventedPushState)\n/* harmony export */ });\nconst ORIGIN = window.location.origin;\r\n      \r\nfunction eventedPushState(state, title, url) {\r\n   const pushChangeEvent = new CustomEvent('onpushstate', {\r\n      detail: {\r\n         state,\r\n         title,\r\n         url,\r\n      },\r\n           \r\n   });\r\n   document.dispatchEvent(pushChangeEvent);\r\n   return history.pushState(state, title, [ORIGIN, url].join('/'));\r\n};\n\n//# sourceURL=webpack://myapp/./src/js/modules/routing.js?")}},__webpack_module_cache__={};function __webpack_require__(r){var e=__webpack_module_cache__[r];return void 0!==e||(e=__webpack_module_cache__[r]={exports:{}},__webpack_modules__[r](e,e.exports,__webpack_require__)),e.exports}__webpack_require__.d=(r,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),__webpack_require__.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__("./src/js/app.js"),__webpack_require__("./src/js/modules/products.js"),__webpack_require__("./src/js/modules/render.js");var __webpack_exports__=__webpack_require__("./src/js/modules/routing.js")})();